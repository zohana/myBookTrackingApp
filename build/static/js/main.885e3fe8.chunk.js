(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},21:function(e,t,a){e.exports=a(34)},32:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(18),l=a.n(r),s=a(6),i=a(7),c=a(9),d=a(8),u=a(10),h=(a(16),a(5)),k=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.valueOfInputField,a=e.handleQueryUpdate,n=e.getSearchResults;return o.a.createElement("div",{className:"search-books"},o.a.createElement("div",{className:"search-books-bar"},o.a.createElement(h.b,{to:"/",className:"close-search"},"Close"),o.a.createElement("div",{className:"search-books-input-wrapper"},o.a.createElement("input",{type:"text",placeholder:"Search by title or author",value:t,onChange:a}))),o.a.createElement("div",{className:"search-books-results"},o.a.createElement("ol",{className:"books-grid"},n)))}}]),t}(n.Component),m=function(e){var t=e.currentlyReadingTitle,a=e.displayCurrentlyReadingBooks,n=e.wantToReadTitle,r=e.displayWantToReadBooks,l=e.readTitle,s=e.displayTheBooksRead;return o.a.createElement("div",{className:"list-books"},o.a.createElement("div",{className:"list-books-title"},o.a.createElement("h1",null,"MyReads")),o.a.createElement("div",{className:"list-books-content"},o.a.createElement("div",null,o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},t),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid",key:"dcrb"},a))),o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},n),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid",key:"dwrb"}," ",r))),o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},l),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid",key:"drb"},s))))),o.a.createElement("div",{className:"open-search"},o.a.createElement(h.b,{to:"/search"},"Search")))},f=function(e){var t=e.imagePath,a=e.optionSelected,n=e.handleBookShelfUpdate,r=e.nameOfTheBook,l=e.authorOfTheBook,s=e.bookId,i=e.index;return o.a.createElement("li",{key:"book_"+i},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url(".concat(t,")")}}),o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{value:a,onChange:n,id:s},o.a.createElement("option",{value:"currentlyReading",id:"option1"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead",id:"option2"},"Want to Read"),o.a.createElement("option",{value:"read",id:"option3"},"Read"),o.a.createElement("option",{value:"none",id:"option4"},"None")))),o.a.createElement("div",{className:"book-title"},r),o.a.createElement("div",{className:"book-authors"},l.map(function(e,t){return o.a.createElement("span",{key:e+"_"+t},e)}))))},p=a(14),b="https://reactnd-books-api.udacity.com",y=localStorage.token;y||(y=localStorage.token=Math.random().toString(36).substr(-8));var R={Accept:"application/json",Authorization:y},g=function(e,t){return fetch("".concat(b,"/books/").concat(e.id),{method:"PUT",headers:Object(p.a)({},R,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then(function(e){e.json()})},E=function(e){return fetch("".concat(b,"/search"),{method:"POST",headers:Object(p.a)({},R,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})},v=a(3),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={books:[],currentlyReading:[],wantToRead:[],booksRead:[],optionValue:"none",showSearchPage:!1,query:""},a.renderCurrentlyReadingBooks=function(){var e=a.state,t=e.currentlyReading,n=e.optionValue;return t.map(function(e,t){return"wantToRead"===n&&g(e,e.shelf),o.a.createElement(f,{key:"book_"+t,imagePath:e.imageLinks.thumbnail,optionSelected:a.state.optionValue,handleBookShelfUpdate:a.onBookUpdate(e),nameOfTheBook:e.title,authorOfTheBook:e.authors,bookId:e.id,index:t})})},a.renderWantToReadBooks=function(){return a.state.wantToRead.map(function(e,t){return o.a.createElement(f,{key:"books_"+t+t,imagePath:e.imageLinks.thumbnail,optionSelected:a.state.optionValue,handleBookShelfUpdate:a.onBookUpdate(e),nameOfTheBook:e.title,authorOfTheBook:e.authors,bookId:e.id,index:t})})},a.renderBooksRead=function(){return a.state.booksRead.map(function(e,t){return o.a.createElement(f,{key:"books_0"+t,imagePath:e.imageLinks.thumbnail,optionSelected:a.state.optionValue,handleBookShelfUpdate:a.onBookUpdate(e),nameOfTheBook:e.title,authorOfTheBook:e.authors,bookId:e.id,index:t})})},a.onBookUpdate=function(e){return function(t){a.setState({optionValue:t.target.value},function(){"currentlyReading"===e.shelf&&"wantToRead"===a.state.optionValue&&(e.shelf="wantToRead",a.setState({currentlyReading:a.state.currentlyReading.filter(function(t){return t.id!==e.id}),wantToRead:a.state.wantToRead.concat(e),optionValue:"none"}),g(e,e.shelf)),"currentlyReading"===e.shelf&&"read"===a.state.optionValue&&(e.shelf="read",a.setState({currentlyReading:a.state.currentlyReading.filter(function(t){return t.id!==e.id}),booksRead:a.state.booksRead.concat(e),optionValue:"none"}),g(e,e.shelf)),"wantToRead"===e.shelf&&"currentlyReading"===a.state.optionValue&&(e.shelf="currentlyReading",a.setState({wantToRead:a.state.wantToRead.filter(function(t){return t.id!==e.id}),currentlyReading:a.state.currentlyReading.concat(e),optionValue:"none"}),g(e,e.shelf)),"wantToRead"===e.shelf&&"read"===a.state.optionValue&&(e.shelf="read",a.setState({wantToRead:a.state.wantToRead.filter(function(t){return t.id!==e.id}),booksRead:a.state.booksRead.concat(e),optionValue:"none"}),g(e,e.shelf)),"read"===e.shelf&&"wantToRead"===a.state.optionValue&&(e.shelf="wantToRead",a.setState({booksRead:a.state.booksRead.filter(function(t){return t.id!==e.id}),wantToRead:a.state.wantToRead.concat(e),optionValue:"none"}),g(e,e.shelf)),"read"===e.shelf&&"currentlyReading"===a.state.optionValue&&(e.shelf="currentlyReading",a.setState({booksRead:a.state.booksRead.filter(function(t){return t.id!==e.id}),currentlyReading:a.state.currentlyReading.concat(e),optionValue:"none"}),g(e,e.shelf))})}},a.updateQuery=function(e){a.setState(function(){return{query:e}}),E(e)},a.clearQuery=function(){a.updateQuery("")},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[],a=[],n=[];fetch("".concat(b,"/books"),{headers:R}).then(function(e){return e.json()}).then(function(e){return e.books}).then(function(o){return e.setState(function(){return{books:o}}),e.state.books.map(function(o){return"currentlyReading"===o.shelf&&(t.push(o),e.setState(function(){return{currentlyReading:t}})),"wantToRead"===o.shelf&&(a.push(o),e.setState(function(){return{wantToRead:a}})),"read"===o.shelf&&(n.push(o),e.setState(function(){return{booksRead:n}})),e.state.books})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.query,n=t.books,r=""===a?[]:n.filter(function(e){return e.title.toLowerCase().includes(a.toLowerCase())});return o.a.createElement("div",null,o.a.createElement(h.a,null,o.a.createElement(v.a,{key:"search",exact:!0,path:"/search",render:function(t){t.history;return o.a.createElement(k,{valueOfInputField:a,handleQueryUpdate:function(t){return e.updateQuery(t.target.value)},getSearchResults:null===r||void 0===r?null:r.map(function(t,a){return o.a.createElement("div",{key:Math.random().toString(16).slice(2)},o.a.createElement("h3",null,t.shelf),o.a.createElement(f,{key:"book_"+a+"_s",imagePath:t.imageLinks.thumbnail,optionSelected:e.state.optionValue,handleBookShelfUpdate:e.onBookUpdate(t),nameOfTheBook:t.title,authorOfTheBook:t.authors,bookId:t.id,index:a}))})})}}),o.a.createElement(v.a,{key:"home",exact:!0,path:"/",render:function(){return o.a.createElement(m,{key:"bookshelves_"+Math.random().toString(16).slice(2),currentlyReadingTitle:"Currently Reading",displayCurrentlyReadingBooks:e.renderCurrentlyReadingBooks(),wantToReadTitle:"Want to Read",displayWantToReadBooks:e.renderWantToReadBooks(),readTitle:"Read",displayTheBooksRead:e.renderBooksRead()})}})))}}]),t}(o.a.Component);a(32);l.a.render(o.a.createElement(T,null),document.getElementById("root"))}},[[21,2,1]]]);
//# sourceMappingURL=main.885e3fe8.chunk.js.map